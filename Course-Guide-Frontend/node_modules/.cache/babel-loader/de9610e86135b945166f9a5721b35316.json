{"ast":null,"code":"import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nimport { getJwt } from \"./authService\";\nconst apiEndpoint = apiUrl + \"users\";\nexport function register(user) {\n  return http.post(apiEndpoint + \"/register\", {\n    username: user.username,\n    password: user.password,\n    lastname: user.lastname,\n    firstname: user.firstname\n  });\n}\n\nfunction userUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getUsers() {\n  http.setJwt(getJwt());\n  console.log(http.get(apiEndpoint));\n  return http.get(apiEndpoint);\n}\nexport function getAdvisees(userId) {\n  http.setJwt(getJwt());\n  console.log(http.get(apiEndpoint));\n  return http.get(userUrl(userId) + \"/advisees\");\n}\nexport function getUser(userId) {\n  http.setJwt(getJwt());\n  return http.get(userUrl(userId));\n}\nexport function getSchedule(userId) {\n  http.setJwt(getJwt());\n  return http.get(userUrl(userId) + \"/schedule\");\n}\nexport function getAdviseeSchedule(userId) {\n  http.setJwt(getJwt());\n  return http.get(getAdvisees(userId) + \"/schedule\");\n}\nexport function saveUser(user) {\n  http.setJwt(getJwt());\n\n  if (user._id) {\n    const body = { ...user\n    };\n    delete body._id;\n    return http.put(userUrl(user._id), body);\n  }\n\n  return http.post(apiEndpoint, user);\n}\nexport function deleteUser(userId) {\n  http.setJwt(getJwt());\n  return http.delete(userUrl(userId));\n}","map":{"version":3,"sources":["/Users/adenmariyappa/Documents/vscode-workspace/course-guide/src/service/userService.jsx"],"names":["http","apiUrl","getJwt","apiEndpoint","register","user","post","username","password","lastname","firstname","userUrl","id","getUsers","setJwt","console","log","get","getAdvisees","userId","getUser","getSchedule","getAdviseeSchedule","saveUser","_id","body","put","deleteUser","delete"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,SAASC,MAAT,QAAuB,eAAvB;AAEA,MAAMC,WAAW,GAAGF,MAAM,GAAG,OAA7B;AAEA,OAAO,SAASG,QAAT,CAAkBC,IAAlB,EAAwB;AAC7B,SAAOL,IAAI,CAACM,IAAL,CAAUH,WAAW,GAAG,WAAxB,EAAqC;AAC1CI,IAAAA,QAAQ,EAAEF,IAAI,CAACE,QAD2B;AAE1CC,IAAAA,QAAQ,EAAEH,IAAI,CAACG,QAF2B;AAG1CC,IAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAH2B;AAI1CC,IAAAA,SAAS,EAAEL,IAAI,CAACK;AAJ0B,GAArC,CAAP;AAMD;;AACD,SAASC,OAAT,CAAiBC,EAAjB,EAAqB;AACnB,SAAQ,GAAET,WAAY,IAAGS,EAAG,EAA5B;AACD;;AAED,OAAO,SAASC,QAAT,GAAoB;AACzBb,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;AACAa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAI,CAACiB,GAAL,CAASd,WAAT,CAAZ;AACA,SAAOH,IAAI,CAACiB,GAAL,CAASd,WAAT,CAAP;AACD;AACD,OAAO,SAASe,WAAT,CAAqBC,MAArB,EAA6B;AAClCnB,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;AACAa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAI,CAACiB,GAAL,CAASd,WAAT,CAAZ;AACA,SAAOH,IAAI,CAACiB,GAAL,CAASN,OAAO,CAACQ,MAAD,CAAP,GAAkB,WAA3B,CAAP;AACD;AAED,OAAO,SAASC,OAAT,CAAiBD,MAAjB,EAAyB;AAC9BnB,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;AACA,SAAOF,IAAI,CAACiB,GAAL,CAASN,OAAO,CAACQ,MAAD,CAAhB,CAAP;AACD;AAED,OAAO,SAASE,WAAT,CAAqBF,MAArB,EAA6B;AAClCnB,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;AACA,SAAOF,IAAI,CAACiB,GAAL,CAASN,OAAO,CAACQ,MAAD,CAAP,GAAkB,WAA3B,CAAP;AACD;AACD,OAAO,SAASG,kBAAT,CAA4BH,MAA5B,EAAoC;AACzCnB,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;AACA,SAAOF,IAAI,CAACiB,GAAL,CAASC,WAAW,CAACC,MAAD,CAAX,GAAsB,WAA/B,CAAP;AACD;AACD,OAAO,SAASI,QAAT,CAAkBlB,IAAlB,EAAwB;AAC7BL,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;;AACA,MAAIG,IAAI,CAACmB,GAAT,EAAc;AACZ,UAAMC,IAAI,GAAG,EAAE,GAAGpB;AAAL,KAAb;AACA,WAAOoB,IAAI,CAACD,GAAZ;AACA,WAAOxB,IAAI,CAAC0B,GAAL,CAASf,OAAO,CAACN,IAAI,CAACmB,GAAN,CAAhB,EAA4BC,IAA5B,CAAP;AACD;;AAED,SAAOzB,IAAI,CAACM,IAAL,CAAUH,WAAV,EAAuBE,IAAvB,CAAP;AACD;AAED,OAAO,SAASsB,UAAT,CAAoBR,MAApB,EAA4B;AACjCnB,EAAAA,IAAI,CAACc,MAAL,CAAYZ,MAAM,EAAlB;AACA,SAAOF,IAAI,CAAC4B,MAAL,CAAYjB,OAAO,CAACQ,MAAD,CAAnB,CAAP;AACD","sourcesContent":["import http from \"./httpService\";\nimport { apiUrl } from \"../config.json\";\nimport { getJwt } from \"./authService\";\n\nconst apiEndpoint = apiUrl + \"users\";\n\nexport function register(user) {\n  return http.post(apiEndpoint + \"/register\", {\n    username: user.username,\n    password: user.password,\n    lastname: user.lastname,\n    firstname: user.firstname,\n  });\n}\nfunction userUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getUsers() {\n  http.setJwt(getJwt());\n  console.log(http.get(apiEndpoint));\n  return http.get(apiEndpoint);\n}\nexport function getAdvisees(userId) {\n  http.setJwt(getJwt());\n  console.log(http.get(apiEndpoint));\n  return http.get(userUrl(userId) + \"/advisees\");\n}\n\nexport function getUser(userId) {\n  http.setJwt(getJwt());\n  return http.get(userUrl(userId));\n}\n\nexport function getSchedule(userId) {\n  http.setJwt(getJwt());\n  return http.get(userUrl(userId) + \"/schedule\");\n}\nexport function getAdviseeSchedule(userId) {\n  http.setJwt(getJwt());\n  return http.get(getAdvisees(userId) + \"/schedule\");\n}\nexport function saveUser(user) {\n  http.setJwt(getJwt());\n  if (user._id) {\n    const body = { ...user };\n    delete body._id;\n    return http.put(userUrl(user._id), body);\n  }\n\n  return http.post(apiEndpoint, user);\n}\n\nexport function deleteUser(userId) {\n  http.setJwt(getJwt());\n  return http.delete(userUrl(userId));\n}\n"]},"metadata":{},"sourceType":"module"}